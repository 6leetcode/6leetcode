[{"questionId":61,"language":"C","filename":"Solution.c","data":"c3RydWN0IExpc3ROb2RlICpjcmVhdGVfbm9kZShpbnQgdmFsKSB7CiAgc3RydWN0IExpc3ROb2RlICpub2RlID0gKHN0cnVjdCBMaXN0Tm9kZSAqKW1hbGxvYyhzaXplb2Yoc3RydWN0IExpc3ROb2RlKSk7CiAgaWYgKG5vZGUgIT0gTlVMTCkgewogICAgbm9kZS0+dmFsID0gdmFsOwogICAgbm9kZS0+bmV4dCA9IE5VTEw7CiAgfQogIHJldHVybiBub2RlOwp9CgpzdHJ1Y3QgTGlzdE5vZGUgKnJvdGF0ZVJpZ2h0KHN0cnVjdCBMaXN0Tm9kZSAqaGVhZCwgaW50IGspIHsKICBpbnQgc3ogPSAwOwoKICBmb3IgKHN0cnVjdCBMaXN0Tm9kZSAqY3VyID0gaGVhZDsgY3VyICE9IE5VTEw7IGN1ciA9IGN1ci0+bmV4dCwgc3orKykge307CgogIGlmIChzeiA9PSAwKSByZXR1cm4gTlVMTDsKCiAgc3RydWN0IExpc3ROb2RlICpvbGRfaGVhZCA9IGhlYWQ7CiAgc3RydWN0IExpc3ROb2RlICpuZXdfaGVhZCA9IE5VTEw7CiAgc3RydWN0IExpc3ROb2RlICpuZXdfY3VyID0gTlVMTDsKICBmb3IgKGludCBsZW5ndGggPSBrICUgc3o7IGxlbmd0aCA+IDA7IGxlbmd0aC0tKSB7CiAgICBpZiAobmV3X2hlYWQgPT0gTlVMTCkgewogICAgICBuZXdfY3VyID0gY3JlYXRlX25vZGUoMCk7CiAgICAgIG5ld19oZWFkID0gbmV3X2N1cjsKICAgIH0gZWxzZSB7CiAgICAgIG5ld19jdXItPm5leHQgPSBjcmVhdGVfbm9kZSgwKTsKICAgICAgbmV3X2N1ciA9IG5ld19jdXItPm5leHQ7CiAgICB9CiAgfQoKICBmb3IgKGludCBsZW5ndGggPSBzeiAtIChrICUgc3opOyBsZW5ndGggPiAwOyBsZW5ndGgtLSkgewogICAgaWYgKG5ld19oZWFkID09IE5VTEwpIHsKICAgICAgbmV3X2N1ciA9IGNyZWF0ZV9ub2RlKG9sZF9oZWFkLT52YWwpOwogICAgICBuZXdfaGVhZCA9IG5ld19jdXI7CiAgICB9IGVsc2UgewogICAgICBuZXdfY3VyLT5uZXh0ID0gY3JlYXRlX25vZGUob2xkX2hlYWQtPnZhbCk7CiAgICAgIG5ld19jdXIgPSBuZXdfY3VyLT5uZXh0OwogICAgfQogICAgb2xkX2hlYWQgPSBvbGRfaGVhZC0+bmV4dDsKICB9CgogIHN0cnVjdCBMaXN0Tm9kZSAqbmV3X3RtcCA9IG5ld19oZWFkOwoKICBmb3IgKGludCBsZW5ndGggPSBrICUgc3o7IGxlbmd0aCA+IDA7IGxlbmd0aC0tKSB7CiAgICBuZXdfdG1wLT52YWwgPSBvbGRfaGVhZC0+dmFsOwogICAgbmV3X3RtcCA9IG5ld190bXAtPm5leHQ7CiAgICBvbGRfaGVhZCA9IG9sZF9oZWFkLT5uZXh0OwogIH0KCiAgcmV0dXJuIG5ld19oZWFkOwp9"}]