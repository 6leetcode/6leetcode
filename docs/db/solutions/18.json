[{"questionId":18,"language":"C","filename":"c.c","data":"aW50IGNvbXBhcmUoY29uc3Qgdm9pZCAqYSwgY29uc3Qgdm9pZCAqYikgewogIHJldHVybiAqKGludCAqKWEgLSAqKGludCAqKWI7Cn0KCnZvaWQga19zdW0oaW50ICpudW1zLCBpbnQgbG93LCBpbnQgaGlnaCwgaW50IHRhcmdldCwgaW50IHRvdGFsLCBpbnQgaywKICAgICAgICAgICBpbnQgKnN0YWNrLCBpbnQgbGVuLCBpbnQgKipyZXN1bHRzLCBpbnQgKmNvdW50LCBpbnQgKmNvbF9zaXplcykgewogIGludCBpOwogIGlmIChrID09IDIpIHsKICAgIHdoaWxlIChsb3cgPCBoaWdoKSB7CiAgICAgIGludCBzdW0gPSBudW1zW2xvd10gKyBudW1zW2hpZ2hdOwogICAgICBpZiAoc3VtIDwgdGFyZ2V0KSB7CiAgICAgICAgbG93Kys7CiAgICAgIH0gZWxzZSBpZiAoc3VtID4gdGFyZ2V0KSB7CiAgICAgICAgaGlnaC0tOwogICAgICB9IGVsc2UgewogICAgICAgIHN0YWNrW2xlbisrXSA9IG51bXNbbG93XTsKICAgICAgICBzdGFja1tsZW4rK10gPSBudW1zW2hpZ2hdOwogICAgICAgIHJlc3VsdHNbKmNvdW50XSA9IG1hbGxvYyh0b3RhbCAqIHNpemVvZihpbnQpKTsKICAgICAgICBtZW1jcHkocmVzdWx0c1sqY291bnRdLCBzdGFjaywgdG90YWwgKiBzaXplb2YoaW50KSk7CiAgICAgICAgY29sX3NpemVzWypjb3VudF0gPSB0b3RhbDsKICAgICAgICAoKmNvdW50KSsrOwogICAgICAgIGxlbiAtPSAyOwogICAgICAgIHdoaWxlICgrK2xvdyA8IGhpZ2ggJiYgbnVtc1tsb3ddID09IG51bXNbbG93IC0gMV0pIHt9CiAgICAgICAgd2hpbGUgKC0taGlnaCA+IGxvdyAmJiBudW1zW2hpZ2hdID09IG51bXNbaGlnaCArIDFdKSB7fQogICAgICB9CiAgICB9CiAgfSBlbHNlIHsKICAgIGZvciAoaSA9IGxvdzsgaSA8PSBoaWdoIC0gayArIDE7IGkrKykgewogICAgICBpZiAoaSA+IGxvdyAmJiBudW1zW2ldID09IG51bXNbaSAtIDFdKSBjb250aW51ZTsKICAgICAgc3RhY2tbbGVuXSA9IG51bXNbaV07CiAgICAgIGtfc3VtKG51bXMsIGkgKyAxLCBoaWdoLCB0YXJnZXQgLSBudW1zW2ldLCA0LCBrIC0gMSwgc3RhY2ssIGxlbiArIDEsIHJlc3VsdHMsIGNvdW50LCBjb2xfc2l6ZXMpOwogICAgfQogIH0KfQoKaW50ICoqZm91clN1bShpbnQgKm51bXMsIGludCBudW1zU2l6ZSwgaW50IHRhcmdldCwgaW50ICpyZXR1cm5TaXplLCBpbnQgKipyZXR1cm5Db2x1bW5TaXplcykgewogICpyZXR1cm5TaXplID0gMDsKICBpbnQgY2FwYWNpdHkgPSAzOwogIGludCAqKnJlc3VsdHMgPSBtYWxsb2MoY2FwYWNpdHkgKiBzaXplb2YoaW50ICopKTsKICAqcmV0dXJuQ29sdW1uU2l6ZXMgPSBtYWxsb2MoY2FwYWNpdHkgKiBzaXplb2YoaW50KSk7CgogIGlmIChudW1zU2l6ZSA+PSA0KSB7CiAgICBxc29ydChudW1zLCBudW1zU2l6ZSwgc2l6ZW9mKCpudW1zKSwgY29tcGFyZSk7CiAgICBpbnQgKnN0YWNrID0gbWFsbG9jKDQgKiBzaXplb2YoaW50KSk7CiAgICBrX3N1bShudW1zLCAwLCBudW1zU2l6ZSAtIDEsIHRhcmdldCwgNCwgNCwgc3RhY2ssIDAsIHJlc3VsdHMsIHJldHVyblNpemUsICpyZXR1cm5Db2x1bW5TaXplcyk7CiAgICBmcmVlKHN0YWNrKTsKICB9CiAgcmV0dXJuIHJlc3VsdHM7Cn0="}]